<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Flashcards Carrusel</title>

    <!-- Bootstrap 3 CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Estilos personalizados -->
    <link rel="stylesheet" href="flashcards_styles.css">
</head>

<body>
    <div class="container">

        <div style="text-align: center; margin: 20px 0;">
            <a href="index_spanish.html" class="back-to-home">
                <span class="home-icon">üè†</span>
            </a>
        </div>

        <div id="theCarousel" class="carousel slide" data-ride="carousel" data-interval="4000">

            <!-- Indicadores -->
            <ol class="carousel-indicators">
                <li data-target="#theCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#theCarousel" data-slide-to="1"></li>
                <li data-target="#theCarousel" data-slide-to="2"></li>
            </ol>

            <!-- Slides -->
            <div class="carousel-inner" role="listbox">

                <!-- SLIDE 1: Ilari, Fiba, Orion -->
                <div class="item active">
                    <div class="cards-wrapper">

                        <!-- FLASHCARD ILARI -->
                        <div class="card card-ilari">
                            <div class="face front">
                                <img src="assets/flashcards/personajes/imgilari.png" alt="Ilari" class="static-img">
                                <video autoplay loop muted class="gif-img">
                                    <source src="assets/flashcards/gifs/vidilari.mp4" type="video/mp4">
                                </video>
                                <h3>Ilari</h3>
                            </div>
                            <div class="face back">
                                <h3>Ilari</h3>
                                <p>
                                    ¬°Hola! Me llamo Ilari, tengo 14 a√±os y soy de la regi√≥n m√°s fr√≠a de Colombia: la
                                    Andina; el significado de mi nombre en lengua quechua es primer rayo de sol,
                                    representa la luz
                                    naciente, y de alguna forma siento que tambi√©n me define a m√≠, me gusta tomar la
                                    iniciativa y
                                    ayudar a que los dem√°s den lo mejor de s√≠, y aunque no poseo un poder sobrenatural,
                                    siempre estoy dispuesta
                                    a entregar todo sin importar la prueba, ¬°rendirse no est√° en mi vocabulario!
                                </p>
                                <div class="circulos-container" id="circulos-ilari">
                                    <button class="circulo" aria-label="Audio"
                                        data-hover-audio="assets/flashcards/audio/audioraudio.mp3"></button>
                                    <button class="circulo" aria-label="Lenguaje de se√±as"
                                        data-hover-audio="assets/flashcards/audio/audiolsenas.mp3"></button>
                                    <button class="circulo" aria-label="Papercraft"
                                        data-hover-audio="assets/flashcards/audio/audiopapercraft.mp3"></button>
                                </div>
                                <button class="btn-abrir" data-target="circulos-ilari"
                                    data-hover-audio="assets/flashcards/audio/audioabrir.mp3">Abrir</button>
                            </div>
                        </div>

                        <!-- FLASHCARD FIBA -->
                        <div class="card card-fiba">
                            <div class="face front">
                                <img src="assets/flashcards/personajes/imgfiba.png" alt="Fiba" class="static-img">
                                <video autoplay loop muted class="gif-img">
                                    <source src="assets/flashcards/gifs/vidfiba.mp4" type="video/mp4">
                                </video>
                                <h3>Fiba</h3>
                            </div>
                            <div class="face back">
                                <h3>Fiba</h3>
                                <p>
                                    Emm... hola, mi nombre es Fiba, soy hermano de Ilari, tengo 10 a√±os y a diferencia
                                    de mi hermana, no hablo mucho, prefiero observar; tengo un poder sobrenatural, me
                                    gusta llamarlo "o√≠do
                                    del cielo", gracias a √©l puedo escuchar lo que el resto no percibe, noto tormentas
                                    solares antes
                                    de que ocurran, y a veces, mis amigos dicen que mis palabras parecen profec√≠as, lo
                                    que no saben es que
                                    siempre busco protegerlos con mis advertencias...
                                </p>
                                <div class="circulos-container" id="circulos-fiba">
                                    <button class="circulo" aria-label="Audio"
                                        data-hover-audio="assets/flashcards/audio/audioraudio.mp3"></button>
                                    <button class="circulo" aria-label="Lenguaje de se√±as"
                                        data-hover-audio="assets/flashcards/audio/audiolsenas.mp3"></button>
                                    <button class="circulo" aria-label="Papercraft"
                                        data-hover-audio="assets/flashcards/audio/audiopapercraft.mp3"></button>
                                </div>
                                <button class="btn-abrir" data-target="circulos-fiba"
                                    data-hover-audio="assets/flashcards/audio/audioabrir.mp3">Abrir</button>
                            </div>
                        </div>

                        <!-- FLASHCARD ORI√ìN -->
                        <div class="card card-orion">
                            <div class="face front">
                                <img src="assets/flashcards/personajes/imgorion.png" alt="Ori√≥n" class="static-img">
                                <video autoplay loop muted class="gif-img">
                                    <source src="assets/flashcards/gifs/vidorion.mp4" type="video/mp4">
                                </video>
                                <h3>Ori√≥n</h3>
                            </div>
                            <div class="face back">
                                <h3>Ori√≥n</h3>
                                <p>
                                    Si, antes de que te lo preguntes, mi nombre es Ori√≥n, como la constelaci√≥n gu√≠a de
                                    los navegantes, ese soy yo; tengo 14 a√±os y provengo del pac√≠fico colombiano, mi
                                    poder es la
                                    comunicaci√≥n mar√≠tima, soy capaz de entenderme con las olas, las escucho, las
                                    respeto, y ellas me
                                    obedecen como fieles compa√±eras, me ayudan a salvar embarcaciones en peligro y
                                    moverlas hacia rutas
                                    seguras; pero espera, por que de noche soy todav√≠a mas incre√≠ble, ya que el reflejo
                                    estelar potencia
                                    mi poder, que puedo decir, soy genial.
                                </p>
                                <div class="circulos-container" id="circulos-orion">
                                    <button class="circulo" aria-label="Audio"
                                        data-hover-audio="assets/flashcards/audio/audioraudio.mp3"></button>
                                    <button class="circulo" aria-label="Lenguaje de se√±as"
                                        data-hover-audio="assets/flashcards/audio/audiolsenas.mp3"></button>
                                    <button class="circulo" aria-label="Papercraft"
                                        data-hover-audio="assets/flashcards/audio/audiopapercraft.mp3"></button>
                                </div>
                                <button class="btn-abrir" data-target="circulos-orion"
                                    data-hover-audio="assets/flashcards/audio/audioabrir.mp3">Abrir</button>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- SLIDE 2: Nerea, Cassia, Gaia -->
                <div class="item">
                    <div class="cards-wrapper">

                        <!-- FLASHCARD NEREA -->
                        <div class="card card-nerea">
                            <div class="face front">
                                <img src="assets/flashcards/personajes/imgnerea.png" alt="Nerea" class="static-img">
                                <video autoplay loop muted class="gif-img">
                                    <source src="assets/flashcards/gifs/vidnerea.mp4" type="video/mp4">
                                </video>
                                <h3>Nerea</h3>
                            </div>
                            <div class="face back">
                                <h3>Nerea</h3>
                                <p>
                                    Hola, soy Nerea, de la costa caribe, donde las olas narran historias y el viento
                                    lleva consigo los secretos mas antiguos; si te suena conocido mi nombre es porque
                                    viene de las
                                    nereidas, las ninfas marinas de la mitolog√≠a griega, me gusta pensar que tenemos
                                    mucho en com√∫n, ya
                                    que, como ellas, yo tambi√©n tengo una conexi√≥n especial con el mar, puedo manejar
                                    las brisas y los
                                    vientos marinos, con mi voz el aire obedece y dejar de ser sofocante, el mar
                                    responde a mi calma y
                                    cuando lo escucho con atenci√≥n, siento que somos uno solo.
                                </p>
                                <div class="circulos-container" id="circulos-nerea">
                                    <button class="circulo" aria-label="Audio"
                                        data-hover-audio="assets/flashcards/audio/audioraudio.mp3"></button>
                                    <button class="circulo" aria-label="Lenguaje de se√±as"
                                        data-hover-audio="assets/flashcards/audio/audiolsenas.mp3"></button>
                                    <button class="circulo" aria-label="Papercraft"
                                        data-hover-audio="assets/flashcards/audio/audiopapercraft.mp3"></button>
                                </div>
                                <button class="btn-abrir" data-target="circulos-nerea"
                                    data-hover-audio="assets/flashcards/audio/audioabrir.mp3">Abrir</button>
                            </div>
                        </div>

                        <!-- FLASHCARD CASSIA -->
                        <div class="card card-cassia">
                            <div class="face front">
                                <img src="assets/flashcards/personajes/imgcassia.png" alt="Cassia" class="static-img">
                                <video autoplay loop muted class="gif-img">
                                    <source src="assets/flashcards/gifs/vidcassia.mp4" type="video/mp4">
                                </video>
                                <h3>Cassia</h3>
                            </div>
                            <div class="face back">
                                <h3>Cassia</h3>
                                <p>
                                    El pulm√≥n del mundo es mi hogar, donde llevo conviviendo en paz con la naturaleza
                                    desde hace 11 a√±os, contemplando las maravillas de mi tierra; las plantas me
                                    permiten entender el
                                    leguaje oculto de la selva, me revelan su energ√≠a y cuando las toco, puedo sanar sus
                                    heridas y
                                    ayudarlas a que broten con mas fuerza, eso me recuerda al origen de mi nombre, una
                                    planta curativa; yo
                                    creo que mi misi√≥n en el mundo es simple: proteger la vida en cualquiera de sus
                                    formas.
                                </p>
                                <div class="circulos-container" id="circulos-cassia">
                                    <button class="circulo" aria-label="Audio"
                                        data-hover-audio="assets/flashcards/audio/audiosonido.mp3"></button>
                                    <button class="circulo" aria-label="Lenguaje de se√±as"
                                        data-hover-audio="assets/flashcards/audio/audiolsenas.mp3"></button>
                                    <button class="circulo" aria-label="Papercraft"
                                        data-hover-audio="assets/flashcards/audio/audiopapercraft.mp3"></button>
                                </div>
                                <button class="btn-abrir" data-target="circulos-cassia"
                                    data-hover-audio="assets/flashcards/audio/audioabrir.mp3">Abrir</button>
                            </div>
                        </div>

                        <!-- FLASHCARD GAIA -->
                        <div class="card card-gaia">
                            <div class="face front">
                                <img src="assets/flashcards/personajes/imggaia.png" alt="Gaia" class="static-img">
                                <video autoplay loop muted class="gif-img">
                                    <source src="assets/flashcards/gifs/vidgaia.mp4" type="video/mp4">
                                </video>
                                <h3>Gaia</h3>
                            </div>
                            <div class="face back">
                                <h3>Gaia</h3>
                                <p>
                                    ¬°Hola, yo soy Gaia! provengo del Or√≠noco colombiano y tengo 13 a√±os; que puedo decir
                                    de m√≠, soy una persona muy fuerte, me encanta competir y ser la mejor, pero
                                    definitivamente, lo que
                                    m√°s resalta en m√≠, es la incre√≠ble habilidad que tengo para hablar con los animales,
                                    puedo entender lo
                                    que sienten, y ayudarlos en caso de ser necesario, s√© que a veces puedo parecer
                                    seria o aburrida,
                                    pero soy una persona de lo m√°s amable, ¬°de verdad!
                                </p>
                                <div class="circulos-container" id="circulos-gaia">
                                    <button class="circulo" aria-label="Audio"
                                        data-hover-audio="assets/flashcards/audio/audioraudio.mp3"></button>
                                    <button class="circulo" aria-label="Lenguaje de se√±as"
                                        data-hover-audio="assets/flashcards/audio/audiolsenas.mp3"></button>
                                    <button class="circulo" aria-label="Papercraft"
                                        data-hover-audio="assets/flashcards/audio/audiopapercraft.mp3"></button>
                                </div>
                                <button class="btn-abrir" data-target="circulos-gaia"
                                    data-hover-audio="assets/flashcards/audio/audioabrir.mp3">Abrir</button>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- SLIDE 3: Deneb, Sombra Solar, SOHO -->
                <div class="item">
                    <div class="cards-wrapper">

                        <!-- FLASHCARD DENEB -->
                        <div class="card card-deneb">
                            <div class="face front">
                                <img src="assets/flashcards/personajes/imgdeneb.png" alt="Deneb" class="static-img">
                                <video autoplay loop muted class="gif-img">
                                    <source src="assets/flashcards/gifs/viddeneb.mp4" type="video/mp4">
                                </video>
                                <h3>Deneb</h3>
                            </div>
                            <div class="face back">
                                <h3>Deneb</h3>
                                <p>
                                    Hola, me llamo Deneb, y s√© que probablemente no lo sepas, pero ese tambi√©n es el
                                    nombre de una estrella en la constelaci√≥n Cisne, la m√°s brillante de todas, como yo;
                                    en fin, mi poder me permite manipular campos el√©ctricos y magn√©ticos, ¬°soy como un
                                    im√°n! jaja; adem√°s puedo encender y apagar la televisi√≥n con mi mente! y de vez en
                                    cuando interfiero con las se√±ales de radio y GPS. que puedo decir, soy incre√≠ble.
                                </p>
                                <div class="circulos-container" id="circulos-deneb">
                                    <button class="circulo" aria-label="Audio"
                                        data-hover-audio="assets/flashcards/audio/audioraudio.mp3"></button>
                                    <button class="circulo" aria-label="Lenguaje de se√±as"
                                        data-hover-audio="assets/flashcards/audio/audiolsenas.mp3"></button>
                                    <button class="circulo" aria-label="Papercraft"
                                        data-hover-audio="assets/flashcards/audio/audiopapercraft.mp3"></button>
                                </div>
                                <button class="btn-abrir" data-target="circulos-deneb"
                                    data-hover-audio="assets/flashcards/audio/audioabrir.mp3">Abrir</button>
                            </div>
                        </div>

                        <!-- FLASHCARD SOMBRA SOLAR -->
                        <div class="card card-sombra">
                            <div class="face front">
                                <img src="assets/flashcards/personajes/imgsombrasolar.png" alt="Sombra Solar"
                                    class="static-img">
                                <video autoplay loop muted class="gif-img">
                                    <source src="assets/flashcards/gifs/vidsombrasolar.mp4" type="video/mp4">
                                </video>
                                <h3>Sombra Solar</h3>
                            </div>
                            <div class="face back">
                                <h3>Sombra Solar</h3>
                                <p>
                                    Soy la sombra solar, muchos me ven como una amenaza porque nac√≠ debido al
                                    desequilibrio del sol, dicen que soy oscuro, misterioso y malvado; genero tormentas
                                    solares y problemas
                                    en el clima espacial por donde quiera que pase, pero, lo que nadie nota, es que en
                                    realidad no soy
                                    malo, solo estoy herido, se que mi fuerza puede desatar caos y causar miedo, pero,
                                    en el fondo solo
                                    quiero ser escuchado y comprendido.
                                </p>
                                <div class="circulos-container" id="circulos-sombra">
                                    <button class="circulo" aria-label="Audio"
                                        data-hover-audio="assets/flashcards/audio/audioraudio.mp3"></button>
                                    <button class="circulo" aria-label="Lenguaje de se√±as"
                                        data-hover-audio="assets/flashcards/audio/audiolsenas.mp3"></button>
                                    <button class="circulo" aria-label="Papercraft"
                                        data-hover-audio="assets/flashcards/audio/audiopapercraft.mp3"></button>
                                </div>
                                <button class="btn-abrir" data-target="circulos-sombra"
                                    data-hover-audio="assets/flashcards/audio/audioabrir.mp3">Abrir</button>
                            </div>
                        </div>

                        <!-- FLASHCARD SOHO -->
                        <div class="card card-personaje9">
                            <div class="face front">
                                <img src="assets/flashcards/personajes/imgsoho.png" alt="SOHO" class="static-img">
                                <video autoplay loop muted class="gif-img">
                                    <source src="assets/flashcards/gifs/vidsoho.mp4" type="video/mp4">
                                </video>
                                <h3>SOHO</h3>
                            </div>
                            <div class="face back">
                                <h3>SOHO</h3>
                                <p>
                                    Mi nombre es SOHO, si te lo preguntas, esas son las siglas en ingl√©s del El
                                    Observatorio Heliosf√©rico y Solar, soy el encargado de vigilar sin descanso al sol
                                    desde el espacio,
                                    mis creadores pensaron que vivir√≠a tan solo dos a√±os, pero ya pasaron m√°s de 30 y me
                                    mantengo firme en
                                    mi misi√≥n: informar a la tierra sobre la actividad solar para que est√© preparada si
                                    se presenta el
                                    peligro; no hay de qu√© preocuparse ¬°SOHO puede verlo todo!
                                </p>
                                <div class="circulos-container" id="circulos-personaje9">
                                    <button class="circulo" aria-label="Audio"
                                        data-hover-audio="assets/flashcards/audio/audioraudio.mp3"></button>
                                    <button class="circulo" aria-label="Lenguaje de se√±as"
                                        data-hover-audio="assets/flashcards/audio/audiolsenas.mp3"></button>
                                    <button class="circulo" aria-label="Papercraft"
                                        data-hover-audio="assets/flashcards/audio/audiopapercraft.mp3"></button>
                                </div>
                                <button class="btn-abrir" data-target="circulos-personaje9"
                                    data-hover-audio="assets/flashcards/audio/audioabrir.mp3">Abrir</button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>

            <!-- Controles -->
            <a class="left carousel-control" href="#theCarousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Anterior</span>
            </a>
            <a class="right carousel-control" href="#theCarousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Siguiente</span>
            </a>
        </div>
    </div>

    <!-- Modal para Lenguaje de Se√±as -->
    <div id="modalLenguaje" class="modal-lsenas">
        <div class="modal-content-lsenas">
            <span class="close-lsenas">&times;</span>
            <h2 id="modalTitle"></h2>
            <div class="video-container-lsenas" id="videoContainerLsenas">
                <!-- Aqu√≠ se cargar√° din√°micamente el video o iframe -->
            </div>
        </div>
    </div>

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script>
        // ========================
        // AUDIO HOVER (cuando paso el mouse)
        // ========================
        function playHoverAudio(audioPath) {
            if (!audioPath) return;
            try {
                const audio = new Audio(audioPath);
                audio.volume = 0.3;
                audio.currentTime = 0;
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        console.log('Audio hover no disponible:', audioPath.split('/').pop());
                    });
                }
            } catch (error) {
                console.log('Error reproduciendo audio hover:', error);
            }
        }

        document.querySelectorAll('.btn-abrir, .circulo').forEach(btn => {
            btn.addEventListener('mouseenter', function () {
                const audioPath = this.getAttribute('data-hover-audio');
                playHoverAudio(audioPath);
            });
        });

        // ========================
        // Flip de tarjetas
        // ========================
        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('click', function (e) {
                const tag = e.target.tagName.toLowerCase();
                if (tag === 'a' || tag === 'button' || e.target.classList.contains('btn-abrir')) return;
                this.classList.toggle('flip');
            });
        });

        // ========================
        // Configuraci√≥n del carrusel seg√∫n dispositivo
        // ========================
        if (window.innerWidth <= 768) {
            $('#theCarousel').carousel({ interval: false, pause: "hover" });
        } else {
            $('#theCarousel').carousel({ interval: 4000, pause: "hover" });
        }

        $(window).on('resize', function () {
            if (window.innerWidth <= 768) {
                $('#theCarousel').carousel({ interval: false });
            } else {
                $('#theCarousel').carousel({ interval: 4000 });
            }
        });

        // ========================
        // Mostrar/Ocultar c√≠rculos
        // ========================
        document.querySelectorAll('.btn-abrir').forEach(btn => {
            btn.addEventListener('click', function (e) {
                e.stopPropagation();
                const targetId = this.getAttribute('data-target');
                const circulos = document.getElementById(targetId);
                if (!circulos) return;
                circulos.classList.toggle('visible');
            });
        });

        // ========================
        // Audios de personajes
        // ========================
        const audiosPersonajes = {
            ilari: "assets/flashcards/descripcion/ilariespanol.m4a",
            fiba: "assets/flashcards/descripcion/fibaespanol.m4a",
            orion: "assets/flashcards/descripcion/orionespanol.m4a",
            nerea: "assets/flashcards/descripcion/nereaespanol.m4a",
            cassia: "assets/flashcards/audio/cassia.mp3",
            gaia: "assets/flashcards/descripcion/gaiaespanol.m4a",
            deneb: "assets/flashcards/descripcion/denebespanol.m4a",
            sombra: "assets/flashcards/descripcion/sombraespanol.m4a",
            personaje9: "assets/flashcards/descripcion/sohoespanol.m4a"
        };

        // ========================
        // FUNCI√ìN PARA EXTRAER ID DE YOUTUBE
        // ========================
        function extractYouTubeID(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        // ========================
        // FUNCI√ìN PARA DETERMINAR SI ES URL DE YOUTUBE
        // ========================
        function isYouTubeURL(url) {
            return url.includes('youtube.com') || url.includes('youtu.be');
        }

        // ========================
        // VIDEOS LENGUAJE DE SE√ëAS - ACTUALIZADOS PARA YOUTUBE
        // ========================
        const videosLenguajeSenas = {
            // IMPORTANTE: Reemplaza estas URLs con tus URLs reales de YouTube
            // Puedes usar URLs completas de YouTube o IDs directamente
            ilari: "https://www.youtube.com/watch?v=TU_VIDEO_ID_ILARI",
            fiba: "https://www.youtube.com/watch?v=TU_VIDEO_ID_FIBA",
            orion: "https://www.youtube.com/watch?v=TU_VIDEO_ID_ORION",
            nerea: "https://www.youtube.com/watch?v=TU_VIDEO_ID_NEREA",
            cassia: "https://www.youtube.com/watch?v=TU_VIDEO_ID_CASSIA",
            gaia: "https://www.youtube.com/watch?v=TU_VIDEO_ID_GAIA",
            deneb: "https://www.youtube.com/watch?v=TU_VIDEO_ID_DENEB"
            
            // ALTERNATIVA: Tambi√©n puedes usar solo el ID del video:
            // ilari: "dQw4w9WgXcQ",
            // O videos locales (el c√≥digo detectar√° autom√°ticamente):
            // ilari: "assets/flashcards/lenguajesenas/ilari-lsenas.mp4",
        };

        const nombresPersonajes = {
            ilari: "Ilari - Lenguaje de Se√±as",
            fiba: "Fiba - Lenguaje de Se√±as",
            orion: "Ori√≥n - Lenguaje de Se√±as",
            nerea: "Nerea - Lenguaje de Se√±as",
            cassia: "Cassia - Lenguaje de Se√±as",
            gaia: "Gaia - Lenguaje de Se√±as",
            deneb: "Deneb - Lenguaje de Se√±as"
        };

        // ========================
        // ABRIR MODAL LENGUAJE DE SE√ëAS
        // ========================
        function abrirModalLenguaje(personaje) {
            const modal = document.getElementById('modalLenguaje');
            const modalTitle = document.getElementById('modalTitle');
            const videoContainer = document.getElementById('videoContainerLsenas');
            
            modalTitle.textContent = nombresPersonajes[personaje] || personaje;
            
            const videoURL = videosLenguajeSenas[personaje] || '';
            
            // Limpiar contenido anterior
            videoContainer.innerHTML = '';
            
            if (isYouTubeURL(videoURL)) {
                // Es un video de YouTube
                const videoID = extractYouTubeID(videoURL);
                if (videoID) {
                    const iframe = document.createElement('iframe');
                    iframe.width = '100%';
                    iframe.height = '100%';
                    iframe.src = `https://www.youtube.com/embed/${videoID}?rel=0`;
                    iframe.frameBorder = '0';
                    iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
                    iframe.allowFullscreen = true;
                    videoContainer.appendChild(iframe);
                } else {
                    videoContainer.innerHTML = '<p style="color: white; text-align: center; padding: 20px;">URL de YouTube inv√°lida</p>';
                }
            } else if (videoURL.length === 11 && !videoURL.includes('/') && !videoURL.includes('.')) {
                // Es un ID de YouTube directo (11 caracteres, sin slashes ni puntos)
                const iframe = document.createElement('iframe');
                iframe.width = '100%';
                iframe.height = '100%';
                iframe.src = `https://www.youtube.com/embed/${videoURL}?rel=0`;
                iframe.frameBorder = '0';
                iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
                iframe.allowFullscreen = true;
                videoContainer.appendChild(iframe);
            } else {
                // Es un video local
                const video = document.createElement('video');
                video.id = 'modalVideo';
                video.controls = true;
                video.style.width = '100%';
                video.style.height = '100%';
                
                const source = document.createElement('source');
                source.src = videoURL;
                source.type = 'video/mp4';
                
                video.appendChild(source);
                video.innerHTML += 'Tu navegador no soporta el elemento de video.';
                videoContainer.appendChild(video);
            }
            
            modal.style.display = 'block';
        }

        // ========================
        // CERRAR MODAL
        // ========================
        const modal = document.getElementById('modalLenguaje');
        const closeBtn = document.querySelector('.close-lsenas');

        function cerrarModal() {
            modal.style.display = 'none';
            const videoContainer = document.getElementById('videoContainerLsenas');
            videoContainer.innerHTML = ''; // Limpiar contenido al cerrar
        }

        closeBtn.onclick = cerrarModal;

        // Cerrar modal al hacer clic fuera
        window.onclick = function (event) {
            if (event.target == modal) {
                cerrarModal();
            }
        };

        // Cerrar modal con tecla ESC
        document.addEventListener('keydown', function (event) {
            if (event.key === 'Escape' && modal.style.display === 'block') {
                cerrarModal();
            }
        });

        // ========================
        // Eventos de los c√≠rculos
        // ========================
        document.querySelectorAll('.circulo').forEach(circulo => {
            circulo.addEventListener('click', function (e) {
                e.stopPropagation();
                const parent = this.closest('.circulos-container');
                const personaje = parent.id.replace('circulos-', '');
                const index = Array.from(this.parentNode.children).indexOf(this);

                switch (index) {
                    case 0: // Audio personaje
                        const personajeAudio = audiosPersonajes[personaje];
                        if (personajeAudio) {
                            const audio = new Audio(personajeAudio);
                            audio.play().catch(() => console.log(`Audio de ${personaje} no disponible`));
                        }
                        break;
                    case 1: // Lenguaje de se√±as / Info
                        if (personaje === 'sombra') {
                            window.open('https://www.nasa.gov/feature/goddard/2016/understanding-space-weather', '_blank');
                        } else if (personaje === 'personaje9') {
                            window.open('https://soho.nascom.nasa.gov/', '_blank');
                        } else {
                            // Abrir modal para los dem√°s personajes
                            abrirModalLenguaje(personaje);
                        }
                        break;
                    case 2: // Papercraft
                        window.open(`assets/flashcards/papercraft/papercraft${personaje}.png`, '_blank');
                        break;
                }
            });
        });

        // ========================
        // Reorganizaci√≥n para m√≥viles
        // ========================
        function reorganizeCarouselForMobile() {
            const isMobile = window.innerWidth <= 768;
            const carousel = $('#theCarousel');

            if (isMobile && !carousel.data('mobile-reorganized')) {
                carousel.data('mobile-reorganized', true);
                carousel.carousel('pause');

                const carouselInner = $('.carousel-inner');
                const mobileSlides = `
                <div class="item active">
                    <div class="cards-wrapper">
                        ${$('.card-ilari').first().prop('outerHTML')}
                        ${$('.card-fiba').first().prop('outerHTML')}
                    </div>
                </div>
                <div class="item">
                    <div class="cards-wrapper">
                        ${$('.card-orion').first().prop('outerHTML')}
                        ${$('.card-nerea').first().prop('outerHTML')}
                    </div>
                </div>
                <div class="item">
                    <div class="cards-wrapper">
                        ${$('.card-cassia').first().prop('outerHTML')}
                        ${$('.card-gaia').first().prop('outerHTML')}
                    </div>
                </div>
                <div class="item">
                    <div class="cards-wrapper">
                        ${$('.card-deneb').first().prop('outerHTML')}
                        ${$('.card-sombra').first().prop('outerHTML')}
                    </div>
                </div>
                <div class="item">
                    <div class="cards-wrapper">
                        ${$('.card-personaje9').first().prop('outerHTML')}
                    </div>
                </div>
            `;

                carouselInner.html(mobileSlides);

                const indicators = $('.carousel-indicators');
                indicators.html(`
                <li data-target="#theCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#theCarousel" data-slide-to="1"></li>
                <li data-target="#theCarousel" data-slide-to="2"></li>
                <li data-target="#theCarousel" data-slide-to="3"></li>
                <li data-target="#theCarousel" data-slide-to="4"></li>
            `);

                carousel.carousel({ interval: false, pause: "hover" });
            } else if (!isMobile && carousel.data('mobile-reorganized')) {
                location.reload();
            }
        }

        $(document).ready(function () {
            setTimeout(reorganizeCarouselForMobile, 100);
        });

        $(window).on('resize', function () {
            clearTimeout(window.resizeTimer);
            window.resizeTimer = setTimeout(reorganizeCarouselForMobile, 250);
        });
    </script>
</body>

</html>